# 📰 政治・経済ニュース自動要約＆Discord配信システム（完全日本語版）

毎朝6:30に国内外の主要メディアからニュースを自動収集し、**AIが全て日本語で要約**してDiscordに投稿するシステムです。

## 🎯 特徴

✨ **完全日本語対応**
- 英語のニュースも自動的に日本語で要約
- 専門用語も日本語に翻訳
- 分かりやすい表現で配信

🌐 **国内外8メディアをカバー**
- 日本語メディア5つ + 英語メディア3つ
- 政治・経済・金融市場を網羅

🤖 **AI自動要約**
- OpenAI GPT-4o miniが賢く要約
- 重要なポイントを抽出
- 市場への影響も分析

⏰ **完全自動運用**
- 毎朝6:30に自動実行
- サーバー不要（GitHub Actions）
- PCの電源オフでもOK

## 📰 対応メディア

### 🇯🇵 日本語メディア（5つ）

| メディア | カテゴリ |
|---------|---------|
| 日経新聞 | 総合・経済 |
| ロイター通信 | 国際・政治 |
| 東洋経済オンライン | 経済・ビジネス |
| PRタイムス | プレスリリース |
| 時事ドットコム | 総合・政治 |

### 🌍 英語メディア（3つ）※AIが日本語で要約

| メディア | カテゴリ | 言語変換 |
|---------|---------|---------|
| Bloomberg | 金融・マーケット | 英語→日本語 |
| FXStreet | 為替・金融 | 英語→日本語 |
| Reuters (英語版) | 国際・政治 | 英語→日本語 |

**注**: 選挙ドットコムは公式RSSフィードが提供されていないため含まれていません。

## 📋 セットアップ手順

### 1. GitHubリポジトリの作成

1. [GitHub](https://github.com/)にログイン
2. 右上の「+」→「New repository」
3. Repository name: `news-discord-bot`
4. **Public**を選択（重要！）
5. 「Create repository」をクリック

### 2. OpenAI APIキーの取得

1. [OpenAI Platform](https://platform.openai.com/)にアクセス
2. アカウント作成/ログイン
3. 右上のアイコン → 「API keys」
4. 「Create new secret key」をクリック
5. キーをコピー（**一度しか表示されません！**）

**💰 料金**: 初回$5の無料クレジット付き（3ヶ月有効）
その後は月300〜500円程度

### 3. Discord Webhook URLの確認

1. Discordサーバーの設定を開く
2. 「連携サービス」→「ウェブフック」
3. 既存のWebhookのURLをコピー

### 4. GitHubにシークレットを設定

1. GitHubリポジトリの「Settings」タブ
2. 左メニュー「Secrets and variables」→「Actions」
3. 「New repository secret」をクリック

**シークレット1:**
- Name: `OPENAI_API_KEY`
- Secret: OpenAI APIキー

**シークレット2:**
- Name: `DISCORD_WEBHOOK_URL`
- Secret: Discord Webhook URL

### 5. ファイルのアップロード

1. リポジトリページで「Add file」→「Upload files」
2. ダウンロードしたZIPを解凍
3. 以下のファイルをドラッグ&ドロップ:
   ```
   news_to_discord.py
   requirements.txt
   README.md
   .github/ (フォルダごと)
   ```
4. 「Commit changes」をクリック

### 6. 動作テスト 🧪

1. 「Actions」タブをクリック
2. 「I understand my workflows...」をクリック
3. 左メニュー「毎朝の政治ニュース配信」
4. 右側「Run workflow」→「Run workflow」
5. 2〜3分待つ
6. **Discordを確認** → 日本語で投稿されていれば成功！🎉

## ⏰ 実行スケジュール

- **毎朝6:30（日本時間）**に自動実行
- GitHub Actionsが自動起動
- PCの電源は不要

## 💰 コスト目安

| 項目 | 料金 |
|------|------|
| GitHub Actions | 完全無料 |
| OpenAI API | 月300〜500円 |
| **合計** | **月300〜500円** |

※1日1回の要約なら月数百円程度

## 📊 配信される内容の例

```
【📅 本日のニュース要約】

🔥 今日の注目トピック
- 日銀が金融政策決定会合で政策金利を据え置き
- 米国FRBがインフレ抑制のため利上げを示唆
- 円相場が一時1ドル=150円台まで下落
- トヨタ自動車が過去最高益を発表
- 政府が経済対策の追加策を検討

📰 国内メディアの報道
■日経新聞
株式市場は政府の経済対策期待から上昇。日経平均は...

■ロイター通信
日銀の政策据え置きを受けて、市場では...

🌍 海外メディアの報道
■Bloomberg
米連邦準備制度理事会（FRB）は、インフレ抑制のため...

■FXStreet
外国為替市場ではドル高が進行し、円は対ドルで...

💡 今日のポイント
- 日銀の政策据え置きが市場に安心感を与えた
- 米国の利上げ観測が為替市場に影響
```

## 🛠️ カスタマイズ

### 実行時刻の変更

`.github/workflows/daily-news.yml`を編集:

```yaml
schedule:
  - cron: '30 21 * * *'  # 6:30 JST
  # 朝7:00にしたい場合 → '0 22 * * *'
  # 朝8:00にしたい場合 → '0 23 * * *'
```

**注意**: cronはUTC時刻（日本時間 - 9時間）

### メディアの追加・削除

`news_to_discord.py`の`NEWS_FEEDS`を編集:

```python
NEWS_FEEDS = {
    '新しいメディア': {
        'url': 'RSS FeedのURL',
        'language': '日本語'  # または 'English'
    },
    # 既存のメディア...
}
```

### AIモデルの変更

より高品質な要約が必要な場合:

```python
model="gpt-4o-mini",  # → "gpt-4o" に変更
# ※ただし料金が約10倍になります
```

## 🔍 トラブルシューティング

### エラー1: Actionsが実行されない
- リポジトリが**Public**か確認
- Actionsタブで有効化されているか確認

### エラー2: OpenAI APIエラー
- APIキーが正しく設定されているか確認
- アカウントに残高があるか確認
- [Usage画面](https://platform.openai.com/usage)でチェック

### エラー3: Discordに投稿されない
- Webhook URLが正しいか確認
- Webhookが削除されていないか確認

### エラー4: 日本語が文字化け
- このシステムは完全UTF-8対応なので通常は発生しません
- 発生した場合はIssueで報告してください

### ログの確認方法
1. 「Actions」タブ
2. 該当のワークフロー実行をクリック
3. 「fetch-and-summarize-news」ジョブをクリック
4. 詳細ログを確認

## 💡 なぜ英語メディアも含めるのか？

**海外の最新情報を素早くキャッチ**
- Bloomberg: 世界の金融市場の動向
- FXStreet: 為替市場の詳細分析
- Reuters英語版: 国際情勢の速報

**全て日本語で読める**
- AIが自動的に日本語に翻訳
- 専門用語も分かりやすく
- 英語が苦手でも安心

## 🚀 今後の拡張アイデア

- [ ] 感情分析の追加
- [ ] キーワードアラート機能
- [ ] 週次/月次レポート生成
- [ ] 重要度スコアリング
- [ ] Slackへの投稿対応
- [ ] カスタムカテゴリー設定

## ⚠️ 注意事項

- ニュースサイトの利用規約を遵守してください
- 過度なアクセスは避けてください
- APIキーは絶対に公開しないでください
- 商用利用の場合は各メディアの規約を確認してください

## 📞 サポート

問題が発生した場合:
- GitHubのIssuesで報告
- 詳細なエラーログを添付
- 実行環境（OS、ブラウザなど）を記載

---

**enjoy your daily news in Japanese! 📰🇯🇵**
